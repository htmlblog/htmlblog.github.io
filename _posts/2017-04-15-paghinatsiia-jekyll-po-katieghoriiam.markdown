---
title: Пагинация постов Jekyll по категориям
date: 2017-04-15 11:30:00 Z
permalink: jekyll-post-pagination-in-category
categories:
- jekyll
header: 'Постраничный вывод постов в категориях Jekyll '
description: В данной статье рассмотрим как подключить плагин для постраничного вывода
  постов в категориях Jekyll. Пагинация постов Jekyll по категориям важный вопрос
  при создании блога.
layout: post
---

Популярный в интернете вопрос - **как организовать постраничный вывод постов в категориях Jekyll?**
Не думал, что *пагинация постов в категориях Jekyll* такой сложный вопрос для многих людей :) Ну давайте тогда будем разбираться.

Скажу сразу - стандартный плагин пагинации **jekyll-paginate** такого не умеет. Если он у вас используется, то смело удаляйте все упоминания о нем с вашего сайта. Сейчас мы сделаем **пагинацию** через более функциональный плагин **jekyll-paginate-v2**.


<br>
### Далее по шагам выполняем следующие действия:

1) Устанавливаем плагин пагинации. Открываем консоль (Shift + правая кнопка мыши. Выбираем "Открыть окно команд") и выполняем команду:

>gem install jekyll-paginate-v2

2) Далее открываем файл настроек вашего сайта **_config.yml**. Он лежит в корне вашего сайта на **Jekyll**. 

Важно! Проверяем задана ли у вас переменная **baseurl**. Если нет, то пишем вверху файла, где-нибудь рядом с title:

>baseurl: /


Задаем дефолтные настройки для нашего **плагина постраничного вывода постов**:
>pagination:<br>
>>enabled: true<br>
>>per_page: 4<br>
>>category: posts

Подключаем плагин:
>gem:<br>
>>-jekyll-paginate-v2

С файлом настроек закончили. Включили плагин, сказали ему выводить по умолчанию 4 записи из всех категорий (подойдет для главной страницы). Двигаемся дальше.

<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- htmlblog в тело статьи -->
<ins class="adsbygoogle"
     style="display:inline-block;width:600px;height:90px"
     data-ad-client="ca-pub-7700451254687983"
     data-ad-slot="6654417156"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<br>

3) Открываем, также в корне вашего проекта **Jekyll**, файл **Gemfile**. Добавляем в него следующий код:
>group :jekyll_plugins do<br>
>>gem "jekyll-paginate-v2"

>end

Если у вас уже есть данная конструкция в файле, то просто добавьте между строками *group* и *end* строку **gem "jekyll-paginate-v2"**.

4) На данном шаге нам необходимо изменить код вывода постов в категориях и на главной странице, если требуется.

Начнем с главной - откройте в корне сайта файл *index.html*. В шапке где задается *title* и *layout* добавьте код:
>pagination:
>>enabled: true

Далее ищем код, который в цикле выводит посты и меняем его на код как на скриншоте:
![jekyll-post-category-paginate.jpg](/uploads/jekyll-post-category-paginate.jpg){:alt="постраничный вывод записей в категориях Jekyll"}
>[Скачать файл с кодом ](http://cur.lv/15cj17){:target="_blank" rel="nofollow"}

Далее вставляем код **постраничного вывода постов Jekyll** как на скриншоте:
![jekyll-posts-category-paginate.jpg](/uploads/jekyll-posts-category-paginate.jpg){:alt="пагинация постов в категориях Jekyll"}
>[Скачать файл с кодом пагинации](http://cur.lv/15cj17){:target="_blank" rel="nofollow"}

**Важно!** Для главной страницы сайта! <br>
Замените в коде пагинации у ссылок *'/news/'* на *'/'*.

Сохраняем файл и перезапускаем сервер сайта. Теперь у нас на главной странице выводятся последние четыре поста сайта.

Давайте теперь сделаем **пагинацию постов в категории**, например *sport*. Открываем файл в котором выводятся посты из категории *sport*. Повторяем действия, которые проводили на главной странице сайта с небольшими изменениями. Добавляем в шапку страницы код:
>pagination:
>>enabled: true<br>
>>category: sport

Можно указать несколько категорий через запятую:
>categories: sport, politica

Важно! У вас обязательно должен быть указан постоянный адрес страницы категории:
>permalink: sport/

Далее копируем сюда из файла главной страницы код для вывода постов и код вывода постраничной навигации, **но!** меняем в коде пагинации */news/* на постоянный url вашей категории -
 */sport/*.

На скриншоте выше выделены три участка кода, где требуется произвести замену.

После перезапуска сервера по адресу *localhost:4000/sport/* будут выводится посты из категории *sport* по 4 штуки на страницу. Если требуется изменить число выводимых постов, то добавьте в шапку файла категории параметр:
>per_page: число постов

На этом все. Смотрите видеоурок по данной статье на моем канале.
